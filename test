–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ 

<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–¥–µ–π –ø–æ—Å—Ç–æ–≤ ‚Ä¢ –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è</title>
  <meta name="description" content="–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–∏–Ω—é—é –∫–Ω–æ–ø–∫—É –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–ª—É—á–∞–π–Ω—É—é —Ç–µ–º—É –ø–æ—Å—Ç–∞ –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ ‚Äî –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤." />
  <style>
    :root{
      --bg:#F8FAFC;--surface:#FFFFFF;--text:#0F172A;--muted:#475569;
      --border:#E2E8F0;--primary:#2563EB;--primary-hover:#1D4ED8;--success:#16A34A;
      --radius-lg:16px;--radius-md:12px;--shadow:0 8px 24px rgba(15,23,42,.06)
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:var(--bg);color:var(--text);
      font:16px/1.5 Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
      display:flex;align-items:center;justify-content:center
    }
    .wrap{width:100%;max-width:960px;padding:24px}
    header{margin-bottom:20px;text-align:center}
    h1{margin:0 0 8px;font-size:32px;font-weight:700;letter-spacing:-.01em}
    .sub{margin:0;color:var(--muted);font-size:17px}
    .grid{display:grid;gap:20px}
    @media (min-width:768px){.grid{grid-template-columns:1.6fr .8fr}}
    .card{
      background:var(--surface);border:1px solid var(--border);
      border-radius:var(--radius-lg);box-shadow:var(--shadow);padding:24px
    }
    .primary{
      display:inline-flex;align-items:center;justify-content:center;
      gap:10px;height:56px;padding:0 28px;border:0;border-radius:var(--radius-md);
      background:var(--primary);color:#fff;font-size:18px;font-weight:600;cursor:pointer;
      transition:transform .08s ease, background .2s ease; outline: none;
    }
    .primary:hover{background:var(--primary-hover)}
    .primary:active{transform:scale(.98)}
    .primary:focus-visible{box-shadow:0 0 0 3px rgba(37,99,235,.35)}
    .actions{display:flex;gap:12px;flex-wrap:wrap}
    .topic{
      font-size:24px;font-weight:600;margin:16px 0 0;min-height:2.6em
    }
    .muted{color:var(--muted);font-size:14px}
    .secondary{
      height:44px;padding:0 16px;border-radius:10px;border:1px solid var(--border);
      background:#fff;color:var(--text);font-weight:600;cursor:pointer;
      transition:background .2s ease
    }
    .secondary:hover{background:#F1F5F9}
    .history h3{margin:0 0 10px;font-size:16px}
    .list{display:flex;flex-direction:column;gap:8px;max-height:260px;overflow:auto}
    .list-item{
      border:1px dashed var(--border);border-radius:10px;padding:10px;
      background:#fff;font-size:15px
    }
    .toast{
      position:fixed;left:50%;bottom:22px;transform:translateX(-50%);
      background:#0B3B2E;color:#fff;padding:10px 14px;border-radius:10px;
      box-shadow:var(--shadow);opacity:0;pointer-events:none;transition:opacity .25s ease
    }
    .toast.show{opacity:1}
    footer{margin-top:16px;text-align:center;color:var(--muted);font-size:13px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–¥–µ–π –ø–æ—Å—Ç–æ–≤</h1>
      <p class="sub">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É ‚Äî –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–ª—É—á–∞–π–Ω—É—é —Ç–µ–º—É –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∫—É—Ä—Å–∞.</p>
    </header>

    <div class="grid">
      <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ -->
      <section class="card" aria-live="polite">
        <div class="actions">
          <button id="generateBtn" class="primary" aria-label="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–º—É">üîµ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–º—É</button>
          <button id="copyBtn" class="secondary" aria-label="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–º—É" disabled>–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
          <button id="resetBtn" class="secondary" aria-label="–°–±—Ä–æ—Å–∏—Ç—å">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
        <div id="topic" class="topic"></div>
        <p id="hint" class="muted">–ù–∞–∂–º–∏—Ç–µ ¬´–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–º—É¬ª, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.</p>
      </section>

      <!-- –ò—Å—Ç–æ—Ä–∏—è -->
      <aside class="card history" aria-label="–ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç–µ–º">
        <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Ç–µ–º</h3>
        <div id="history" class="list" role="list"></div>
        <p id="emptyHistory" class="muted">–ò—Å—Ç–æ—Ä–∏—è –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–º.</p>
      </aside>
    </div>

    <footer>¬© –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –≤—ã–ø—É—Å–∫–Ω–∏–∫–æ–≤ –∫—É—Ä—Å–∞ –ø–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏</footer>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    // ---------- –î–ê–ù–ù–´–ï: 50 —Ç–µ–º ----------
    const ALL_TOPICS = [
      "–ö–∞–∫ –Ω–∞—É—á–∏—Ç—å—Å—è –≥–æ–≤–æ—Ä–∏—Ç—å ¬´–Ω–µ—Ç¬ª –±–µ–∑ —á—É–≤—Å—Ç–≤–∞ –≤–∏–Ω—ã.",
      "–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ —Ö–≤–∞–ª–∏—Ç—å —Å–µ–±—è –∏ –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ.",
      "–ú–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø–µ—Ä–µ–º–µ–Ω: —Å–∏–ª–∞ –º–∏–∫—Ä–æ-–ø—Ä–∏–≤—ã—á–µ–∫.",
      "–ö–∞–∫ –ø–µ—Ä–µ—Å—Ç–∞—Ç—å —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å–µ–±—è —Å –¥—Ä—É–≥–∏–º–∏.",
      "–ü–æ—á–µ–º—É –ø—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü–∏—è ‚Äî —ç—Ç–æ –Ω–µ –ª–µ–Ω—å, –∞ —Å–∏–≥–Ω–∞–ª.",
      "–†–µ—Å—É—Ä—Å–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–≥–æ —É—Ç—Ä–∞.",
      "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å—Ç—Ä–∞—Ö–æ–º –ø–µ—Ä–µ–º–µ–Ω.",
      "–ö–∞–∫ –∑–∞–º–µ—Ç–∏—Ç—å –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.",
      "–¢–µ—Ö–Ω–∏–∫–∞ ¬´–¥–Ω–µ–≤–Ω–∏–∫ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏¬ª: —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –æ–Ω–∞ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ?",
      "–ó–∞—á–µ–º –Ω—É–∂–µ–Ω –ø—Å–∏—Ö–æ–ª–æ–≥, –µ—Å–ª–∏ ¬´—É –º–µ–Ω—è –≤—Å—ë –Ω–æ—Ä–º–∞–ª—å–Ω–æ¬ª.",
      "–ö–∞–∫ —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å —Ç—Ä–µ–≤–æ–≥–æ–π –≤ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏.",
      "–ß—Ç–æ —Ç–∞–∫–æ–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤—ã–≥–æ—Ä–∞–Ω–∏–µ –∏ –∫–∞–∫ –µ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å.",
      "–ü–æ—á–µ–º—É –º—ã –∑–ª–∏–º—Å—è –∏ –∫–∞–∫ —ç–∫–æ–ª–æ–≥–∏—á–Ω–æ –≤—ã—Ä–∞–∂–∞—Ç—å –∑–ª–æ—Å—Ç—å.",
      "–ö–∞–∫ –ø–µ—Ä–µ—Å—Ç–∞—Ç—å ¬´–Ω–∞–∫—Ä—É—á–∏–≤–∞—Ç—å¬ª —Å–µ–±—è.",
      "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –≥–∏–≥–∏–µ–Ω–∞: —á—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º –æ–Ω–∞ –Ω—É–∂–Ω–∞.",
      "–ü—Ä–æ—Å—Ç—ã–µ –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Å—Ç—Ä–µ—Å—Å–∞.",
      "–¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ —Å–Ω–æ–º: –∫–∞–∫ –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞—Ç—å –º—ã—Å–ª–∏.",
      "–ü–æ—á–µ–º—É –º—ã –ø–ª–∞—á–µ–º –∏ –ø–æ–ª–µ–∑–Ω–æ –ª–∏ —ç—Ç–æ –¥–ª—è –ø—Å–∏—Ö–∏–∫–∏.",
      "–ö–∞–∫ —Å—Ç—Ä–µ—Å—Å –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–µ–ª–æ –∏ –∑–¥–æ—Ä–æ–≤—å–µ.",
      "–ú–∏—Ñ—ã –∏ —Ñ–∞–∫—Ç—ã –æ ¬´–ø–æ–∑–∏—Ç–∏–≤–Ω–æ–º –º—ã—à–ª–µ–Ω–∏–∏¬ª.",
      "–ö–∞–∫ –Ω–∞–ª–∞–¥–∏—Ç—å –¥–æ–≤–µ—Ä–∏–µ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö.",
      "–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø–∞—Ä—Ç–Ω—ë—Ä –∏–∑–±–µ–≥–∞–µ—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ –æ —á—É–≤—Å—Ç–≤–∞—Ö.",
      "–†–æ–ª—å –¥–µ—Ç—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –≤–∑—Ä–æ—Å–ª—ã—Ö –ª—é–¥–µ–π.",
      "–ü–æ—á–µ–º—É –Ω–∞–º —Ç—Ä—É–¥–Ω–æ –ø—Ä–æ—Å–∏—Ç—å –æ –ø–æ–º–æ—â–∏.",
      "–ö–∞–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ —Å—Å–æ—Ä–∏—Ç—å—Å—è –∏ –Ω–µ —Ä–∞–∑—Ä—É—à–∞—Ç—å –æ—Ç–Ω–æ—à–µ–Ω–∏—è.",
      "–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ª—é–±–æ–≤—å—é –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é.",
      "–ö–∞–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å —Ç–æ–∫—Å–∏—á–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è.",
      "–≠–º–ø–∞—Ç–∏—è: –∫–∞–∫ —Ä–∞–∑–≤–∏—Ç—å —É–º–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–≥–æ.",
      "–ß—Ç–æ –º–µ—à–∞–µ—Ç –Ω–∞–º —Å—Ç—Ä–æ–∏—Ç—å –±–ª–∏–∑–∫–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è.",
      "–û—à–∏–±–∫–∏ –≤ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–≤–µ—Ä—à–∞—é—Ç –ø–æ—á—Ç–∏ –≤—Å–µ.",
      "–ö–∞–∫ –ø–æ–Ω—è—Ç—å, —á—Ç–æ —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏–Ω–æ—Å–∏—Ç –≤—ã–≥–æ—Ä–∞–Ω–∏–µ.",
      "–°–∏–Ω–¥—Ä–æ–º —Å–∞–º–æ–∑–≤–∞–Ω—Ü–∞: –∫–∞–∫ –µ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –∏ —á—Ç–æ —Å –Ω–∏–º –¥–µ–ª–∞—Ç—å.",
      "–ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Ä–∞–±–æ—Ç–æ–π –∏ –ª–∏—á–Ω–æ–π –∂–∏–∑–Ω—å—é.",
      "–ü–æ—á–µ–º—É –º—ã –±–æ–∏–º—Å—è –æ—à–∏–±–æ–∫ –∏ –∫–∞–∫ –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ –Ω–∏–º –∏–Ω–∞—á–µ.",
      "–ö–∞–∫ –Ω–∞—É—á–∏—Ç—å—Å—è –ø—Ä–æ—Å–∏—Ç—å –ø–æ–≤—ã—à–µ–Ω–∏–µ –∏–ª–∏ –¥–æ—Å—Ç–æ–π–Ω—É—é –æ–ø–ª–∞—Ç—É.",
      "–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –±–æ—Ä—å–±—ã —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ä–µ–≤–Ω–æ—Å—Ç—å—é.",
      "–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ ¬´—è –Ω–∏—á–µ–≥–æ –Ω–µ —É–º–µ—é¬ª.",
      "–ö–∞–∫ –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –∂–∏—Ç—å ¬´–æ—Ç –æ—Ç–ø—É—Å–∫–∞ –¥–æ –æ—Ç–ø—É—Å–∫–∞¬ª.",
      "–ü–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏–∑–º: –≤—Ä–∞–≥ –∏–ª–∏ –ø–æ–º–æ—â–Ω–∏–∫?",
      "–ö–∞–∫ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –ø–æ—Ä–∞ –º–µ–Ω—è—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏—é.",
      "–í–ª–∏—è–Ω–∏–µ –¥–µ—Ç—Å–∫–∏—Ö –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π –Ω–∞ –≤–∑—Ä–æ—Å–ª—É—é –∂–∏–∑–Ω—å.",
      "–ö–∞–∫ –¥–µ—Ç—Å–∫–∏–µ —Ç—Ä–∞–≤–º—ã –ø—Ä–æ—è–≤–ª—è—é—Ç—Å—è –≤–æ –≤–∑—Ä–æ—Å–ª–æ–º –≤–æ–∑—Ä–∞—Å—Ç–µ.",
      "–ü–æ—á–µ–º—É —Ä–æ–¥–∏—Ç–µ–ª–∏ –Ω–µ –≤—Å–µ–≥–¥–∞ –º–æ–≥—É—Ç –¥–∞—Ç—å ¬´–∏–¥–µ–∞–ª—å–Ω–æ–µ¬ª –¥–µ—Ç—Å—Ç–≤–æ.",
      "–†–æ–ª—å –∏–≥—Ä—ã –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ —Ä–µ–±—ë–Ω–∫–∞ –∏ –≤–∑—Ä–æ—Å–ª–æ–≥–æ.",
      "–ö–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç—å —Å –¥–µ—Ç—å–º–∏ –æ —á—É–≤—Å—Ç–≤–∞—Ö.",
      "–û—à–∏–±–∫–∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–µ—à–∞—é—Ç —Ä–µ–±—ë–Ω–∫—É –≤–∑—Ä–æ—Å–ª–µ—Ç—å.",
      "–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∞—Ç—å –¥–µ—Ç—è–º –∑–ª–∏—Ç—å—Å—è.",
      "–ö–∞–∫ —Å–µ–º–µ–π–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≤–ª–∏—è—é—Ç –Ω–∞ –≤—ã–±–æ—Ä –ø–∞—Ä—Ç–Ω—ë—Ä–∞.",
      "–ß—Ç–æ –∑–Ω–∞—á–∏—Ç ¬´–±—ã—Ç—å —Ö–æ—Ä–æ—à–∏–º —Ä–æ–¥–∏—Ç–µ–ª–µ–º¬ª –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ.",
      "–ö–∞–∫ –ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–æ–¥–∏—Ç–µ–ª–µ–π –∏ –Ω—É–∂–Ω–æ –ª–∏ —ç—Ç–æ –¥–µ–ª–∞—Ç—å."
    ];

    // ---------- –õ–û–ì–ò–ö–ê ----------
    let pool = [];            // —Ç–µ–∫—É—â–∏–π –ø—É–ª –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–æ–≤
    let history = [];         // –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Ç–µ–º
    const topicEl = document.getElementById('topic');
    const hintEl = document.getElementById('hint');
    const historyEl = document.getElementById('history');
    const emptyHistoryEl = document.getElementById('emptyHistory');
    const toastEl = document.getElementById('toast');
    const copyBtn = document.getElementById('copyBtn');

    function initPool(){
      pool = shuffle([...ALL_TOPICS]);
    }

    function shuffle(arr){
      for(let i = arr.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function showToast(text){
      toastEl.textContent = text;
      toastEl.classList.add('show');
      setTimeout(()=> toastEl.classList.remove('show'), 2500);
    }

    function renderHistory(){
      historyEl.innerHTML = '';
      if(history.length === 0){
        emptyHistoryEl.style.display = 'block';
        return;
      }
      emptyHistoryEl.style.display = 'none';
      history.forEach(item=>{
        const li = document.createElement('div');
        li.className = 'list-item';
        li.setAttribute('role','listitem');
        li.textContent = item;
        historyEl.appendChild(li);
      });
    }

    function setTopic(text){
      // –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
      topicEl.style.opacity = 0;
      requestAnimationFrame(()=>{
        topicEl.textContent = text;
        topicEl.style.opacity = 1;
      });
      hintEl.textContent = '–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥—Ä—É–≥—É—é —Ç–µ–º—É.';
      copyBtn.disabled = !text;
    }

    function nextTopic(){
      if(pool.length === 0){
        initPool();
        showToast('–¢–µ–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã ‚Äî –Ω–∞—á–∏–Ω–∞–µ–º –ø–æ –∫—Ä—É–≥—É');
      }
      const next = pool.pop(); // –±–µ—Ä—ë–º –∏–∑ –∫–æ–Ω—Ü–∞ —á—Ç–æ–±—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–ª–æ—Å—å
      // –∏—Å—Ç–æ—Ä–∏—è (–º–∞–∫—Å 5)
      history.unshift(next);
      if(history.length > 5) history.pop();
      renderHistory();
      setTopic(next);
    }

    async function copyCurrent(){
      const text = topicEl.textContent.trim();
      if(!text) return;
      try{
        await navigator.clipboard.writeText(text);
        showToast('–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
      }catch(e){
        // Fallback
        const sel = window.getSelection();
        const range = document.createRange();
        range.selectNodeContents(topicEl);
        sel.removeAllRanges();
        sel.addRange(range);
        showToast('–í—ã–¥–µ–ª–µ–Ω–æ ‚Äî –Ω–∞–∂–º–∏—Ç–µ Ctrl/Cmd+C');
      }
    }

    function resetAll(){
      initPool();
      history = [];
      renderHistory();
      topicEl.textContent = '';
      copyBtn.disabled = true;
      hintEl.textContent = '–ù–∞–∂–º–∏—Ç–µ ¬´–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–º—É¬ª, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.';
    }

    // –°–ª—É—à–∞—Ç–µ–ª–∏
    document.getElementById('generateBtn').addEventListener('click', nextTopic);
    document.getElementById('copyBtn').addEventListener('click', copyCurrent);
    document.getElementById('resetBtn').addEventListener('click', resetAll);
    // –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞: Enter –Ω–∞ –∫–Ω–æ–ø–∫–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
    document.getElementById('generateBtn').addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); nextTopic(); }
    });

    // –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    resetAll();
  </script>
</body>
</html>
